{"version":3,"sources":["context.js","SearchForm.js","Movies.js","Home.js","SingleMovie.js","App.js","index.js"],"names":["API_ENDPOINT","process","AppContext","React","createContext","AppProvider","children","useState","loading","setLoading","show","msg","error","setError","movies","setMovies","query","setQuery","useEffect","fetchMovies","url","a","fetch","response","json","data","Response","Search","Error","console","log","Provider","value","useGlobalContext","useContext","SearchForm","action","className","onSubmit","event","preventDefault","type","onChange","target","Movies","map","movie","id","imdbID","poster","Poster","title","Title","year","Year","to","key","src","alt","Home","SingleMovie","useParams","setMovie","fetchMovie","plot","Plot","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77303d7f.chunk.js","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\n// make sure to use https\nexport const API_ENDPOINT = `https://www.omdbapi.com/?apikey=${process.env.REACT_APP_MOVIE_API_KEY}`;\nconst AppContext = React.createContext();\n\nconst AppProvider = ({ children }) => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState({ show: false, msg: '' });\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState('casablanca');\n\n  useEffect(() => {\n    fetchMovies(`${API_ENDPOINT}&s=${query}`);\n  }, [query]);\n\n  const fetchMovies = async (url) => {\n    setLoading(true);\n\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n\n      if (data.Response === 'True') {\n        setMovies(data.Search);\n        setError({ show: false, msg: '' });\n      } else {\n        setError({ show: true, msg: `${data.Error}` });\n      }\n\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <AppContext.Provider value={{ loading, error, movies, query, setQuery }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","import React from 'react';\nimport { useGlobalContext } from './context';\nconst SearchForm = () => {\n  const { query, setQuery, error } = useGlobalContext();\n\n  return (\n    <form\n      action=''\n      className='search-form'\n      onSubmit={(event) => event.preventDefault()}\n    >\n      <h2>Search Movies</h2>\n      <input\n        type='text'\n        className='form-input'\n        value={query}\n        onChange={(event) => setQuery(event.target.value)}\n      />\n      {error.show && <div className='error'>{error.msg}</div>}\n    </form>\n  );\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport { useGlobalContext } from './context';\nimport { Link } from 'react-router-dom';\nconst url =\n  'https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png';\n\nconst Movies = () => {\n  const { loading, movies } = useGlobalContext();\n\n  if (loading) {\n    return <div className='loading'></div>;\n  }\n\n  return (\n    <section className='movies'>\n      {movies.map((movie) => {\n        const { imdbID: id, Poster: poster, Title: title, Year: year } = movie;\n        return (\n          <Link to={`/movies/${id}`} key={id} className='movie'>\n            <article>\n              <img src={poster === 'N/A' ? url : poster} alt={title} />\n              <div className='movie-info'>\n                <h4 className='title'>{title}</h4>\n                <p>{year}</p>\n              </div>\n            </article>\n          </Link>\n        );\n      })}\n    </section>\n  );\n};\n\nexport default Movies;\n","import React from 'react';\nimport Form from './SearchForm';\nimport Movies from './Movies';\nconst Home = () => {\n  return (\n    <main>\n      <Form></Form>\n      <Movies></Movies>\n    </main>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { API_ENDPOINT } from './context';\nconst url =\n  'https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png';\n\nconst SingleMovie = () => {\n  const { id } = useParams();\n  const [movie, setMovie] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState({ show: false, msg: '' });\n\n  const fetchMovie = async (url) => {\n    const response = await fetch(url);\n    const data = await response.json();\n\n    console.log(data);\n\n    if (data.Response === 'False') {\n      setError({ show: true, msg: data.Error });\n      setLoading(false);\n    } else {\n      setMovie(data);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchMovie(`${API_ENDPOINT}&i=${id}`);\n  }, [id]);\n\n  if (loading) {\n    return <div className='loading'></div>;\n  }\n\n  if (error.show) {\n    return (\n      <div className='page-error'>\n        <h1>{error.msg}</h1>\n        <Link to='/' className='btn'>\n          back to movies\n        </Link>\n      </div>\n    );\n  }\n\n  const { Poster: poster, Title: title, Plot: plot, Year: year } = movie;\n  return (\n    <section>\n      <img src={poster === 'N/A' ? url : poster} alt={title} />\n      <div className='single-movie-info'>\n        <h2>{title}</h2>\n        <p>{plot}</p>\n        <h4>{year}</h4>\n        <Link to='/' className='btn'>\n          back to movies\n        </Link>\n      </div>\n    </section>\n  );\n};\n\nexport default SingleMovie;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport Home from './Home';\nimport Movie from './SingleMovie';\n\nfunction App() {\n  return (\n    <Switch>\n      <Route path='/'>\n        <Home />\n      </Route>\n      <Route path='/movies/:id' children={<Movie></Movie>}></Route>\n    </Switch>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nimport { BrowserRouter as Router } from 'react-router-dom';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <Router>\n        <App />\n      </Router>\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}